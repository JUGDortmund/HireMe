<section class="content module search-page" ng-controller="ListCtrl" ng-init="init()">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12 col-md-offset-0">
				<div class="box">
					<div class="box-body">
						<form name="searchForm" novalidate role="form">
							<div class="input-group input-group-lg">
								<input type="text" ng-model="search"
									placeholder=${i18n(
									'sidebar.search.placeholder')} class="form-control"
									autofocus="autofocus"> <span class="input-group-btn">
									<button class="btn btn-success btn-flat">
										<i class="fa fa-search"></i>
									</button>
								</span>
							</div>
						</form>
						<h4 ng-show="filteredProfiles.length">${i18n("search.result")} <span id="filter-count">({{filteredProfiles.length}}</span> / <span id="profile-count">{{profiles.length}}</span>)</h4>
						<div>
							<div class="info-box bg-green" ng-repeat="profile in (filteredProfiles = (profiles | filter:search))">
								<span class="info-box-icon"><i class="fa fa-user"></i></span>
								<a class="profile-link" ng-href="/profile/{{profile.id}}">
									<div class="info-box-content">
										<span class="info-box-text">{{profile.careerStage}}</span>
										<span class="info-box-number">{{profile.firstname}} {{profile.lastname}}</span>
									</div>
								</a>
							</div>
						</div>
						<span ng-hide="filteredProfiles.length">${i18n("search.result.none")}</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div>
    	Profile count: <span id="profile-count">{{profiles.length}}</span>
	</div>
</section>